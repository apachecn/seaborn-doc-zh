# Seaborn ç®€ä»‹

> è¯‘è€…ï¼š[yiran](https://github.com/yiran7324)

Seaborn æ˜¯ä¸€ä¸ªåŸºäº [matplotlib](https://matplotlib.org/) ä¸”æ•°æ®ç»“æ„ä¸ [pandas](https://pandas.pydata.org/) ç»Ÿä¸€çš„ç»Ÿè®¡å›¾åˆ¶ä½œåº“ã€‚

è¿™é‡Œåˆ—å‡ºäº†ä¸€äº› seaborn çš„åŠŸèƒ½ï¼š

* è®¡ç®—[å¤šå˜é‡](http://seaborn.pydata.org/examples/faceted_lineplot.html#faceted-lineplot)é—´[å…³ç³»](http://seaborn.pydata.org/examples/scatter_bubbles.html#scatter-bubbles)çš„é¢å‘æ•°æ®é›†æ¥å£
* å¯è§†åŒ–ç±»åˆ«å˜é‡çš„[è§‚æµ‹](http://seaborn.pydata.org/examples/jitter_stripplot.html#jitter-stripplot)ä¸[ç»Ÿè®¡](http://seaborn.pydata.org/examples/pointplot_anova.html#pointplot-anova)
* å¯è§†åŒ–[å•å˜é‡](http://seaborn.pydata.org/examples/distplot_options.html#distplot-options)æˆ–[å¤šå˜é‡](http://seaborn.pydata.org/examples/joint_kde.html#joint-kde)åˆ†å¸ƒå¹¶ä¸å…¶å­æ•°æ®é›†[æ¯”è¾ƒ](http://seaborn.pydata.org/examples/horizontal_boxplot.html#horizontal-boxplot)
* æ§åˆ¶[çº¿æ€§å›å½’](http://seaborn.pydata.org/examples/anscombes_quartet.html#anscombes-quartet)çš„ä¸åŒ[å› å˜é‡](http://seaborn.pydata.org/examples/logistic_regression.html#logistic-regression)å¹¶è¿›è¡Œå‚æ•°ä¼°è®¡ä¸ä½œå›¾
* å¯¹å¤æ‚æ•°æ®è¿›è¡Œæ˜“è¡Œçš„æ•´ä½“[ç»“æ„](http://seaborn.pydata.org/examples/scatterplot_matrix.html#scatterplot-matrix)å¯è§†åŒ–
* å¯¹[å¤šè¡¨ç»Ÿè®¡å›¾](http://seaborn.pydata.org/examples/faceted_histogram.html#faceted-histogram)çš„åˆ¶ä½œé«˜åº¦æŠ½è±¡å¹¶ç®€åŒ–å¯è§†åŒ–è¿‡ç¨‹
* æä¾›å¤šä¸ªå†…å»º[ä¸»é¢˜](http://seaborn.pydata.org/tutorial/aesthetics.html#aesthetics-tutorial)æ¸²æŸ“ matplotlib çš„å›¾åƒæ ·å¼
* æä¾›[è°ƒè‰²æ¿](http://seaborn.pydata.org/tutorial/color_palettes.html#palette-tutorial)å·¥å…·ç”ŸåŠ¨å†ç°æ•°æ®

Seaborn æ¡†æ¶æ—¨åœ¨ä»¥æ•°æ®å¯è§†åŒ–ä¸ºä¸­å¿ƒæ¥æŒ–æ˜ä¸ç†è§£æ•°æ®ã€‚å®ƒæä¾›çš„é¢å‘æ•°æ®é›†åˆ¶å›¾å‡½æ•°ä¸»è¦æ˜¯å¯¹è¡Œåˆ—ç´¢å¼•å’Œæ•°ç»„çš„æ“ä½œï¼ŒåŒ…å«å¯¹æ•´ä¸ªæ•°æ®é›†è¿›è¡Œå†…éƒ¨çš„è¯­ä¹‰æ˜ å°„ä¸ç»Ÿè®¡æ•´åˆï¼Œä»¥æ­¤ç”Ÿæˆå¯Œäºä¿¡æ¯çš„å›¾è¡¨ã€‚

ä¸‹é¢æ˜¯ä¸€äº› ğŸŒ° çš„å–µï¼š

```py
import seaborn as sns
sns.set()
tips = sns.load_dataset("tips")
sns.relplot(x="total_bill", y="tip", col="time",
            hue="smoker", style="smoker", size="size",
            data=tips);

```

![http://seaborn.pydata.org/_images/introduction_1_0.png](img/edfd168858231883b7e55e685f2f4e0d.jpg)

ä¸Šé¢å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬ä¸€æ­¥æ­¥åˆ†æï¼š

1.  æˆ‘ä»¬è£…è½½ seabornï¼Œè¿™æ˜¯è¿™ä¸ªä¾‹å­å”¯ä¸€éœ€è¦çš„ python åº“ã€‚

```py
import seaborn as sns

```

æ­¤å¤„ï¼Œseaborn å®é™…è°ƒç”¨äº† matplotlib ä½œå›¾ã€‚è™½ç„¶å¾ˆå¤šä»»åŠ¡éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ seaborn æä¾›çš„å‡½æ•°æ¥å®Œæˆï¼Œä¸è¿‡ä¸€äº›æ›´æ·±å±‚æˆ–è€…æ›´åŠ ä¸ªæ€§åŒ–çš„å¯èƒ½éœ€è¦ç›´æ¥ä½¿ç”¨ matplotlib æ¥å®ç°ï¼Œ[ä¸‹é¢](#intro-plot-customization)ä¼šè¯¦ç»†ä»‹ç»è¿™ä¸€ç‚¹ã€‚å¦‚æœéœ€è¦è·å¾—äº¤äº’å¼ä½“éªŒï¼Œæ¨èä½¿ç”¨ Jupyter/IPython å·¥å…·å¹¶å¼€å¯ [matplotlib æ¨¡å¼](https://ipython.readthedocs.io/en/stable/interactive/plotting.html)ã€‚å¦åˆ™ï¼Œåœ¨ä½¿ç”¨äº¤äº’å¼å·¥å…·æ—¶å¦‚æœæƒ³è¦çœ‹åˆ°å›¾ç‰‡éœ€è¦è°ƒç”¨ matplotlib.pyplot.show å‡½æ•°ã€‚

1.  æˆ‘ä»¬è®¾ç½®å¹¶ä½¿ç”¨ seaborn é»˜è®¤çš„ä¸»é¢˜ã€å°ºå¯¸å¤§å°ä»¥åŠè°ƒè‰²æ¿ã€‚

```py
sns.set()

```

è¿™é‡Œæ”¹å˜äº† [matplotlib rcParam ç³»ç»Ÿ](https://matplotlib.org/users/customizing.html) æ‰€ä»¥ä¼šå½±å“æ‰€æœ‰ matplotlib å›¾åƒçš„æ˜¾ç¤ºï¼Œå³ä½¿ä½ æ²¡æœ‰æ˜¾å¼çš„è°ƒç”¨ seaborn ä¿®æ”¹è¿™äº›å‚æ•°ã€‚é™¤äº†ç¼ºçœçš„ä¸»é¢˜ï¼Œæˆ‘ä»¬æä¾›ä¸€äº›[å…¶ä»–é€‰é¡¹](http://seaborn.pydata.org/tutorial/aesthetics.html#aesthetics-tutorial)ï¼Œä½ å¯ä»¥ç‹¬ç«‹çš„æ§åˆ¶å›¾ç‰‡é£æ ¼ä¸å°ºå¯¸æ¥å°†ä»–ä»¬è¿…é€Ÿåº”ç”¨åˆ°æ¼”è®²å½“ä¸­ï¼ˆä¾‹å¦‚ï¼Œåœ¨æ¼”è®²æŠ•å½±ä¸­ä½¿ç”¨ä¸€ä¸ªæ‹¥æœ‰å¯é˜…è¯»å­—ä½“çš„å›¾è¡¨ï¼‰ã€‚å¦‚æœä½ å€¾å‘äºä½¿ç”¨é»˜è®¤ matplotlib ä¸»é¢˜æˆ–è€…å…¶ä»–çš„å†…ç½®æ ·å¼ï¼Œä½ å¯ä»¥è·³è¿‡è¿™ä¸€éƒ¨åˆ†ï¼Œåªä½¿ç”¨ seaborn æä¾›çš„åˆ¶å›¾å‡½æ•°ã€‚

1.  è£…è½½æ•°æ®é›†

```py
tips = sns.load_dataset("tips")

```

æ–‡æ¡£ä¸­çš„ä»£ç å¤šæ•°ä¼šä½¿ç”¨ [`load_dataset()`](generated/seaborn.load_dataset.html#seaborn.load_dataset "seaborn.load_dataset") å»å–å¾—æ ·ä¾‹æ•°æ®é›†ã€‚è¿™äº›æ•°æ®é›†æ²¡ä»€ä¹ˆç‰¹æ®Šï¼Œéƒ½æ˜¯ pandas çš„æ•°æ®ç»“æ„ï¼ˆdataframesï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ `pandas.read_csv` æˆ–è€…æ‰‹åŠ¨è¾“å…¥åˆ›å»ºæ•°æ®é›†ã€‚åœ¨æ–‡æ¡£ä¸­ï¼Œå¤šæ•°ä½œå›¾éƒ½ä½¿ç”¨ `tips` æ•°æ®é›†ï¼Œéå¸¸æ— èŠä½†æ˜¯å°±è¯´æ˜çŠ¶å†µçš„ä½œç”¨è¿˜æ˜¯å¯ä»¥ã€‚`tips` æ•°æ®é›†æä¾›äº†ä¸€ç§â€œæ•´æ´â€çš„æ•´åˆæ•°æ®çš„æ–¹å¼ï¼Œæ‰€ä»¥å¦‚æœä½ ä½¿ç”¨è¿™ç§æ–¹å¼æ¥æ•´åˆè‡ªå·±çš„æ•°æ®ï¼Œä½¿ç”¨ seaborn å†å¥½ä¸è¿‡äº†ã€‚[ä¸‹é¢](#intro-tidy-data)è¯¦ç»†è§£é‡Šä¸ºä»€ä¹ˆã€‚

1.  æˆ‘ä»¬å†™ä¸€ä¸ªå¤šå­å›¾æ•£ç‚¹å›¾ï¼Œåˆ†é…è¯­ä¹‰å˜é‡

```py
sns.relplot(x="total_bill", y="tip", col="time",
            hue="smoker", style="smoker", size="size",
            data=tips)

```

è¿™å¼ å›¾è¯´æ˜äº† `tips` æ•°æ®é›†ä¸­äº”ä¸ªå˜é‡çš„å…³ç³»ï¼Œä¸‰ä¸ªæ˜¯æ•°å€¼å˜é‡ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯ç±»åˆ«å˜é‡ã€‚å…¶ä¸­ `total_bill` å’Œ `tip` è¿™ä¸¤ä¸ªæ•°å€¼å˜é‡å†³å®šäº†è½´ä¸Šæ¯ä¸ªç‚¹å‡ºç°çš„ä½ç½®ï¼Œå¦å¤–ä¸€ä¸ª `size` å˜é‡å½±å“ç€å‡ºç°ç‚¹çš„å¤§å°ã€‚ç¬¬ä¸€ä¸ªç±»åˆ«å˜é‡ `time` å°†æ•£ç‚¹å›¾åˆ†ä¸ºä¸¤ä¸ªå­å›¾ï¼Œç¬¬äºŒä¸ªç±»åˆ«å˜é‡ `smoker` å†³å®šç‚¹çš„å½¢çŠ¶ã€‚

æ‰€æœ‰ä¸Šè¿°å†…å®¹å‡ç”± [`relplot`](generated/seaborn.relplot.html#seaborn.relplot "seaborn.relplot") ä¸€æ¬¡è°ƒç”¨ç”Ÿæˆã€‚æ³¨æ„ï¼Œåœ¨å‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä»…ä»…ä½¿ç”¨å˜é‡åæ¥åˆ’åˆ†å›¾åƒä¸­çš„ä¸åŒçš„è¯­ä¹‰ã€‚å¦‚æœç›´æ¥ä½¿ç”¨ matplotlib ï¼Œå°±å¿…é¡»å°†å˜é‡è½¬æ¢ä¸ºå¯è§†åŒ–å‡½æ•°çš„å‚æ•°ï¼ˆä¾‹å¦‚ï¼ŒæŒ‡å®šé¢œè‰²ï¼ŒæŒ‡å®šæ¯ä¸ªç±»åˆ«çš„åˆ¶å›¾æ–¹å¼ï¼‰ï¼Œè¿™åœ¨ seaborn ä¸­è¢«è‡ªåŠ¨æ‰§è¡Œäº†ï¼Œä»¥æ­¤è®©ä½¿ç”¨è€…å°†æ³¨æ„åŠ›æ”¾åœ¨ä»–ä»¬è¦è§£å†³çš„é—®é¢˜ä¸Šã€‚

## æ¥å£æŠ½è±¡

å› ä¸ºä¸å­˜åœ¨å¯è§†åŒ–æ•°æ®çš„æœ€å¥½æ–¹å¼ï¼Œæ¯ä¸€ä¸ªåˆ¶å›¾æ‰€æè¿°çš„é—®é¢˜éƒ½æœ‰è‡ªå·±æœ€åˆé€‚çš„å¯è§†åŒ–æ–¹æ³•ã€‚seaborn æ—¨åœ¨è®©å¯è§†åŒ–æ–¹æ³•é—´çš„åˆ‡æ¢å˜å¾—æ›´å®¹æ˜“ï¼Œæœ‰æ—¶ä»…ä»…éœ€è¦æ”¹å˜åŒä¸€ä¸ªæ¥å£ä¸­çš„å‚æ•°å³å¯ã€‚

å‡½æ•° [`relplot()`](generated/seaborn.relplot.html#seaborn.relplot "seaborn.relplot") ä¹‹æ‰€ä»¥è¿™æ ·å‘½åæ˜¯å› ä¸ºè®¾è®¡è¿™ä¸ªå‡½æ•°çš„åˆè¡·æ˜¯æƒ³è®©ä»–ä½“ç°å¤šä¸ªç»Ÿè®¡é—´çš„å…³ç³»ã€‚æ•£ç‚¹å›¾å¯ä»¥å¾ˆå¥½çš„ä½“ç°ç»Ÿè®¡æ•°æ®é—´çš„å…³ç³»ï¼Œä½†æ˜¯å¦‚æœæœ‰ä¸€ä¸ªå˜é‡å…·æœ‰æ—¶é—´æ„ä¹‰ï¼Œé‚£çº¿çŠ¶å›¾å¯èƒ½æ›´å¥½ä¸€ç‚¹ï¼Œå› æ­¤ï¼Œ[`relplot()`](generated/seaborn.relplot.html#seaborn.relplot "seaborn.relplot") å‡½æ•°æä¾›äº†ä¸€ä¸ª `kind` æ¥å£å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨ä½œäºæ”¹å˜å›¾åƒçš„ç»„ç»‡æ–¹å¼ã€‚

```py
dots = sns.load_dataset("dots")
sns.relplot(x="time", y="firing_rate", col="align",
            hue="choice", size="coherence", style="choice",
            facet_kws=dict(sharex=False),
            kind="line", legend="full", data=dots);

```

![http://seaborn.pydata.org/_images/introduction_11_0.png](img/304d64035cdade741a6566356fb5105f.jpg)

å‚æ•° `size` å’Œ `style` è¢«æ•£ç‚¹å›¾å’Œçº¿çŠ¶å›¾å…±äº«ï¼Œä½†æ˜¯ä»–ä»¬å¯¹è¿™äº›å¯è§†åŒ–ç»“æœäº§ç”Ÿçš„å½±å“æ˜¯ä¸åŒçš„ï¼ˆä¾‹å¦‚ï¼Œæ”¹å˜ç‚¹å¤§å°å’Œçº¿çš„æ ·å¼ï¼‰ã€‚è¿™äº›ç»†èŠ‚åœ¨å®é™…ä½¿ç”¨ä¸­æ˜¯æ— éœ€è¢«å…³æ³¨çš„ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ³¨æ„åŠ›æ”¾åœ¨ç»„ç»‡å›¾åƒçš„ç»“æ„ä¸æˆ‘ä»¬æƒ³è¡¨è¾¾çš„ä¿¡æ¯ä¸­ã€‚

## ä¼°è®¡ä¸è¯¯å·®

æˆ‘ä»¬å¸¸å¸¸ä¼šæƒ³çŸ¥é“ä¸€ä¸ªå˜é‡çš„å‡å€¼å‡½æ•°ä»¥ä¾¿åœ¨è®¡ç®—å…¶ä»–å˜é‡æ—¶ä½œä¸ºå¯ç”¨å‚æ•°ã€‚seaborn çš„è®¸å¤šå‡½æ•°éƒ½å¯ä»¥è‡ªåŠ¨çš„è®¡ç®—å‚æ•°ä¼°è®¡ï¼Œè¿™åœ¨è§£å†³ä¸€äº›é—®é¢˜ä¸­æ˜¯ååˆ†å¿…è¦çš„ã€‚

```py
fmri = sns.load_dataset("fmri")
sns.relplot(x="timepoint", y="signal", col="region",
            hue="event", style="event",
            kind="line", data=fmri);

```

![http://seaborn.pydata.org/_images/introduction_13_0.png](img/ea7a65c02fd53e88da3b411bce44613e.jpg)

ä¼°è®¡ç»Ÿè®¡å‚æ•°æ—¶ï¼Œseaborn ä½¿ç”¨äº† bootstrap æ–¹æ³•è®¡ç®—ç½®ä¿¡åŒºé—´å’Œè¯¯å·®ä»¥è¡¨ç¤ºä¼°è®¡çš„ä¸ç¡®å®šæ€§ç¨‹åº¦ã€‚

Seaborn è¿˜èƒ½å®ç°ä¸€äº›ä¸æ˜¯å¾ˆå¥½ç”¨è¯­è¨€æè¿°ç»Ÿè®¡ä¼°è®¡ã€‚æ¯”å¦‚ï¼Œä½¿ç”¨ [`lmplot()`](generated/seaborn.lmplot.html#seaborn.lmplot "seaborn.lmplot") å¯ä»¥å°†ä¸€ä¸ªçº¿æ€§å›å½’æ¨¡å‹æ”¾åœ¨æ•£ç‚¹å›¾å½“ä¸­å»ï¼š

```py
sns.lmplot(x="total_bill", y="tip", col="time", hue="smoker",
           data=tips);

```

![http://seaborn.pydata.org/_images/introduction_15_0.png](img/ed897fd7956612dbde4cb1f80e874a54.jpg)

## åˆ†ç±»å›¾

æ ‡å‡†çš„æ•£ç‚¹å›¾å’Œçº¿çŠ¶å›¾ç”¨æ¥å¯è§†åŒ–æ•°å€¼å‹æ•°æ®ï¼Œä½†æ˜¯å¯èƒ½æœ‰äº›å˜é‡å«æœ‰åˆ†ç±»ä¿¡æ¯ï¼Œä¹‹å‰çš„åšæ³•ä¸å†åˆé€‚ã€‚æˆ‘ä»¬æä¾›äº†ä¸€äº›å¯è§†åŒ–åˆ†ç±»å˜é‡çš„å‡½æ•°ï¼Œåœ¨ [`catplot()`](generated/seaborn.catplot.html#seaborn.catplot "seaborn.catplot") ä¸­å¯ä»¥æ‰¾åˆ°ã€‚å’Œ [`relplot()`](generated/seaborn.relplot.html#seaborn.relplot "seaborn.relplot") ç›¸ä¼¼çš„åœ°æ–¹æ˜¯ï¼Œå†™ [`catplot()`](generated/seaborn.catplot.html#seaborn.catplot "seaborn.catplot") å‡½æ•°çš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ä¸ªé¢å‘æ•°æ®é›†çš„é€šç”¨æ¥å£ï¼Œä¸ä»…å¯ä»¥æ˜¾ç¤ºæ•°å€¼å˜é‡ï¼ŒåŒæ—¶å±•ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªç±»åˆ«å˜é‡ã€‚

åœ¨ä¸‹é¢è¿™ç§å›¾ä¸­ï¼Œä½ å¯ä»¥æ”¹å˜è§‚æµ‹çš„ç²’èšé›†åº¦ï¼Œæœ€å¥½çš„æƒ…å†µæ˜¯ï¼Œæ‰€æœ‰çš„è§‚æµ‹å€¼éƒ½è¢«è°ƒæ•´çš„æ°å¥½åˆ°ä¸ä¼šé‡å ä½†æ˜¯åˆæ˜¯æ²¿ç€ç±»åˆ«è½´çš„ï¼š

```py
sns.catplot(x="day", y="total_bill", hue="smoker",
            kind="swarm", data=tips);

```

![http://seaborn.pydata.org/_images/introduction_17_0.png](img/8c2ce11c1030543cc9193699a7799daa.jpg)

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ ¸å¯†åº¦ä¼°è®¡æ¥è¡¨ç¤ºè¿™äº›è§‚æµ‹å¯èƒ½æ¥æºäºçš„æ ·æœ¬ï¼š

```py
sns.catplot(x="day", y="total_bill", hue="smoker",
            kind="violin", split=True, data=tips);

```

![http://seaborn.pydata.org/_images/introduction_19_0.png](img/b7fc9d043ac684d49db7216d04477181.jpg)

æˆ–è€…ä½ å¯ä»¥åœ¨æ¯ä¸ªåµŒå¥—ç±»åˆ«å˜é‡ä¸­æ±‚å…¶å”¯ä¸€å‡å€¼ä¸ç½®ä¿¡åŒºé—´ï¼š

```py
sns.catplot(x="day", y="total_bill", hue="smoker",
            kind="bar", data=tips);

```

![http://seaborn.pydata.org/_images/introduction_21_0.png](img/afab9a9586d23bfd75307cf6ba8af4e7.jpg)

## å›¾ä¸è½´çš„å‡½æ•°

äº†è§£ seaborn æä¾›çš„ä¸åŒå‡½æ•°é—´çš„åŒºåˆ«éå¸¸é‡è¦ï¼Œåˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬è§åˆ°çš„å‡½æ•°éƒ½æ˜¯åŸºäº figure-level çš„å‡½æ•°ã€‚ç”±äºç›´æ¥åˆ›å»ºåŒ…å«å­å›¾çš„ matplotlib å›¾åƒï¼Œæ•°æ®å¾—ä»¥è¢«æ²¿ç€è½´å±•å¼€ï¼ŒæŒ–æ˜æ•°æ®å¾—åˆ°äº†ä¼˜åŒ–ã€‚è¿™äº›å‡½æ•°è¿˜å¯ä»¥åšä¸€äº›æ¯”è¾ƒæœ‰æŠ€å·§æ€§çš„äº‹æƒ…ï¼Œæ¯”å¦‚æŠŠå›¾ä¾‹æ”¾åœ¨è½´å¤–ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [`FacetGrid`](generated/seaborn.FacetGrid.html#seaborn.FacetGrid "seaborn.FacetGrid") æ¥å®Œæˆè¿™äº›äº‹æƒ…ã€‚

æ¯ä¸€ä¸ª figure-level çš„å›¾åƒ `kind` ï¼ˆæŒ‡ä¼ ç»™ kind å‚æ•°ä½ç½®çš„å›¾ç±»åˆ«å˜é‡ï¼‰éƒ½åŒ…å«ç€ä¸€ä¸ªç‰¹æ®Šçš„ axes-level ä½œä¸º [`FacetGrid`](generated/seaborn.FacetGrid.html#seaborn.FacetGrid "seaborn.FacetGrid") çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œæ•£ç‚¹å›¾å®é™…ä¸Šä½¿ç”¨çš„æ˜¯ [`scatterplot()`](generated/seaborn.scatterplot.html#seaborn.scatterplot "seaborn.scatterplot") å‡½æ•°ï¼Œæ¡å½¢å›¾ä½¿ç”¨çš„æ˜¯ [`barplot()`](generated/seaborn.barplot.html#seaborn.barplot "seaborn.barplot") å‡½æ•°ï¼Œè¿™äº›å‡½æ•°è¢«ç§°ä¸º axes-level å› ä¸ºä»–ä»¬åªä¼šä½œç”¨ä¸€ä¸ªç‹¬ç«‹ matplotlib å›¾åƒè½´ä¸ä¼šå½±å“åˆ°å…¶ä»–å‰©ä½™è½´ä¸Šçš„å­å›¾ã€‚

æ€»ä¹‹å°±æ˜¯ figure-level å‡½æ•°æ§åˆ¶æ•´ä¸ªå›¾åƒï¼Œaxes-level çš„å‡½æ•°å¯ä»¥å’Œ matplotlib å›¾è¿›è¡Œæ›´å¤æ‚çš„ç»“åˆï¼Œæ— è®ºå…¶ä»–è½´ä¸Šçš„å­å›¾æ˜¯å¦ç”± seaborn ä½œå‡ºã€‚

```py
import matplotlib.pyplot as plt
f, axes = plt.subplots(1, 2, sharey=True, figsize=(6, 4))
sns.boxplot(x="day", y="tip", data=tips, ax=axes[0])
sns.scatterplot(x="total_bill", y="tip", hue="day", data=tips, ax=axes[1]);

```

![http://seaborn.pydata.org/_images/introduction_23_0.png](img/5d9c323ba09277e74341a23fc4397041.jpg)

ä½¿ç”¨ figure-level å‡½æ•°æ§åˆ¶å›¾åƒå¤§å°çš„æ–¹æ³•å’Œæ§åˆ¶ matplotlib å›¾çš„æ–¹æ³•æœ‰ä¸€ç‚¹ä¸åŒã€‚figure-level å‡½æ•°ä¸ä¼šè®¾ç½®æ•´ä¸ªå›¾çš„å¤§å°ï¼Œè€Œæ˜¯è°ƒæ•´æ¯ä¸ªç»„æˆå›¾çš„å­å›¾çš„å¤§å°ï¼Œå¹¶ä¸”å¯¹äºå­å›¾è®¾å®šé«˜åº¦ä¸æ¯”ä¾‹ï¼Œä¸ä¼šå»åˆ†åˆ«è®¾å®šé«˜åº¦å’Œå®½åº¦ã€‚è¿™æ ·çš„å‚æ•°åŒ–å½¢å¼ä½¿å¾—æ§åˆ¶å›¾è¡¨å¤§å°æ›´å®¹æ˜“äº†ï¼Œå¹¶ä¸éœ€è¦éå¾—ä»”ç»†è®¡ç®—åˆ°åº•ç»“æœå›¾ä¼šåŒ…å«å¤šå°‘è¡Œã€å¤šå°‘åˆ—ï¼Œå³ä½¿è¿™æ ·å®¹æ˜“è®©äººæ¯”è¾ƒæ™•ï¼š

```py
sns.relplot(x="time", y="firing_rate", col="align",
            hue="choice", size="coherence", style="choice",
            height=4.5, aspect=2 / 3,
            facet_kws=dict(sharex=False),
            kind="line", legend="full", data=dots);

```

![http://seaborn.pydata.org/_images/introduction_25_0.png](img/2b0ae6898e6a1091d872587335b2e5bf.jpg)

åŒºåˆ« figure-level å‡½æ•°å’Œ axes-level å‡½æ•°çš„æ–¹æ³•å°±æ˜¯å»çœ‹å‡½æ•°æ˜¯å¦æºå¸¦ä¸€ä¸ª `ax=` å‚æ•°ã€‚æˆ–è€…ä½ å¯ä»¥æŸ¥çœ‹ä»–ä»¬çš„è¾“å‡ºç±»å‹ï¼šaxes-level å‡½æ•°è¿”å›ä¸€ä¸ª matplotlib `axes`ï¼Œfigure-level å‡½æ•°è¿”å›ä¸€ä¸ª [`FacetGrid`](generated/seaborn.FacetGrid.html#seaborn.FacetGrid "seaborn.FacetGrid")ã€‚

## æ•°æ®é›†ç»“æ„å¯è§†åŒ–

åœ¨ seaborn ä¸­åˆ›å»ºå¤šå­å›¾çš„å¯è§†åŒ–ç»“æœæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥åˆ»ç”»æ•°æ®é›†çš„ç»“æ„ã€‚ç¬¬ä¸€ç§ 
[`jointplot()`](generated/seaborn.jointplot.html#seaborn.jointplot "seaborn.jointplot") æ–¹æ³•æ³¨é‡å•å¯¹å•å…³ç³»ï¼š

```py
iris = sns.load_dataset("iris")
sns.jointplot(x="sepal_length", y="petal_length", data=iris);

```

![http://seaborn.pydata.org/_images/introduction_27_0.png](img/c4a64a553429646fe040a596413d44e4.jpg)

å¦ä¸€ç§æ˜¯ [`pairplot()`](generated/seaborn.pairplot.html#seaborn.pairplot "seaborn.pairplot") ï¼Œæä¾›å¯¹æ•°æ®æ›´ä¸ºå…¨é¢çš„å¯è§†åŒ–ã€‚å¯¹äºæ¯å¯¹æ•°æ®é—´çš„å…³ç³»ä»¥åŠè¾¹ç¼˜åˆ†å¸ƒéƒ½æœ‰è€ƒå¯Ÿï¼Œä½ å¯ä»¥é€‰æ‹©ç”¨å“ªé‡Œåˆ†ç±»å˜é‡ä½œä¸ºæ¡ä»¶ï¼š

```py
sns.pairplot(data=iris, hue="species");

```

![http://seaborn.pydata.org/_images/introduction_29_0.png](img/61b3a047c35b789c4461b09d5bed86ac.jpg)

è¿™ä¸¤ç§æ–¹æ³•åœ¨æ•°æ®å¯è§†åŒ–éƒ½æä¾›ä¸€äº›è‡ªå®šä¹‰é€‰é¡¹ï¼Œä»–ä»¬éƒ½æ˜¯å¯¹äºä¸¤ä¸ªé«˜åº¦å¯è‡ªå®šä¹‰çš„å¤šå›¾ä½œå›¾å‡½æ•° [`JointGrid`](generated/seaborn.JointGrid.html#seaborn.JointGrid "seaborn.JointGrid") å’Œ [`PairGrid`](generated/seaborn.PairGrid.html#seaborn.PairGrid "seaborn.PairGrid") å†å°è£…ã€‚

## è‡ªå®šä¹‰æ ·å¼

Seaborn åº“é€‰æ‹©å°½å¯èƒ½ç¾è§‚çš„è®¾è®¡ï¼Œå¹¶ä¸”æ·»åŠ å¯Œäºä¿¡æ¯çš„æ ‡ç­¾ã€‚å¦‚æœéœ€è¦è®¾è®¡æ›´ä¸ºç²¾è‡´çš„å›¾ç‰‡å¯èƒ½ä¼šéœ€è¦å¤šæ‰§è¡Œä¸€äº›æ­¥éª¤ï¼Œè¿™æœ‰å¤šç§æ–¹æ³•ã€‚

ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ seaborn ç»™ä½ çš„å…¶ä»–çš„ä¸»é¢˜ã€‚è®¾ç½®äº†ä¸åŒçš„ä¸»é¢˜æˆ–è€…è°ƒè‰²æ¿æ ·å¼ä¼šè®©æ•´ä¸ªå›¾çš„æ•ˆæœéƒ½ä¸ä¸€æ ·ï¼š

```py
sns.set(style="ticks", palette="muted")
sns.relplot(x="total_bill", y="tip", col="time",
            hue="smoker", style="smoker", size="size",
            data=tips);

```

![http://seaborn.pydata.org/_images/introduction_31_0.png](img/4263c8446521fa44bcb4c6f2bdec4bad.jpg)

å¦‚æœè¦ä»…é’ˆå¯¹å›¾åƒè®¾è®¡ï¼Œæ‰€æœ‰çš„ seaborn å‡½æ•°éƒ½æ¥å—ä¸€ç³»åˆ—çš„å¯é€‰å‚æ•°æ¥æ”¹å˜é»˜è®¤çš„è¯­ä¹‰æ˜ å°„ï¼Œæ¯”å¦‚é¢œè‰²ã€‚ï¼ˆå¯¹é¢œè‰²çš„æ°å½“é€‰æ‹©åœ¨æ•°æ®å¯è§†åŒ–ä¸­éå¸¸å…³é”®ï¼Œseaborn æä¾›äº†[é™„åŠ æ”¯æŒ]http://seaborn.pydata.org/tutorial/color_palettes.html#palette-tutorial) æ¥å¼•å¯¼è°ƒè‰²æ¿çš„ä½¿ç”¨ï¼‰ã€‚

æœ€åï¼Œå½“ seaborn çš„å‡½æ•°ä¸ matploblib å‡½æ•°å…·æœ‰æ˜¾ç„¶ä¸€è‡´æ€§æ—¶ï¼ˆä¾‹å¦‚ [`scatterplot()`](generated/seaborn.scatterplot.html#seaborn.scatterplot "seaborn.scatterplot") å’Œ `plt.scatter`ï¼‰ï¼Œå¤šä½™çš„å‚æ•°ä¼šè¢«ç›´æ¥ä¼ ç»™ matploblib å±‚ï¼š

```py
sns.relplot(x="total_bill", y="tip", col="time",
            hue="size", style="smoker", size="size",
            palette="YlGnBu", markers=["D", "o"], sizes=(10, 125),
            edgecolor=".2", linewidth=.5, alpha=.75,
            data=tips);

```

![http://seaborn.pydata.org/_images/introduction_33_0.png](img/506d0705fd945624be2ed50162adb4eb.jpg)

æ³¨æ„ [`relplot()`](generated/seaborn.relplot.html#seaborn.relplot "seaborn.relplot") æˆ–è€…å…¶ä»– figure-level å‡½æ•°ï¼Œå› ä¸ºå½“ [`relplot()`](generated/seaborn.relplot.html#seaborn.relplot "seaborn.relplot") å‡½æ•°ä¼ é€’ä¸€äº›é¢å¤–çš„å…³é”®å­—å‚æ•°åˆ° seaborn åº•å±‚çš„ axes-level å‡½æ•°æ—¶ï¼Œç›¸å½“äºå°†è¿™äº›å‚æ•°ç›´æ¥ä¼ ç»™äº†åº•å±‚ matplotlib å‡½æ•°ï¼Œè¿™ä¼šä½¿å¾—ä½ å¯»æ‰¾å¯¹åº”æ–‡æ¡£å˜å¾—æœ‰äº›éº»çƒ¦ï¼Œä¸è¿‡åŸåˆ™ä¸Šæ˜¯å¯ä»¥åšåˆ°å¾ˆé«˜çš„è‡ªå®šä¹‰ç¨‹åº¦çš„ã€‚

æœ‰äº› figure-level çš„å‡½æ•°è‡ªå®šä¹‰å¯ä»¥é€šè¿‡ä¼ é€’é¢å¤–å‚æ•°åˆ° [`FacetGrid`](generated/seaborn.FacetGrid.html#seaborn.FacetGrid "seaborn.FacetGrid") æ¥å®ç°ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•æ¥æ§åˆ¶å›¾åƒçš„å±æ€§ã€‚ç”šè‡³å¯ä»¥ä¿®æ”¹éœ€è¦è¢«ä½œå›¾çš„ matploblib å¯¹è±¡çš„å€¼è¾¾åˆ°æ•ˆæœï¼š

```py
g = sns.catplot(x="total_bill", y="day", hue="time",
                height=3.5, aspect=1.5,
                kind="box", legend=False, data=tips);
g.add_legend(title="Meal")
g.set_axis_labels("Total bill ($)", "")
g.set(xlim=(0, 60), yticklabels=["Thursday", "Friday", "Saturday", "Sunday"])
g.despine(trim=True)
g.fig.set_size_inches(6.5, 3.5)
g.ax.set_xticks([5, 15, 25, 35, 45, 55], minor=True);
plt.setp(g.ax.get_yticklabels(), rotation=30);

```

![http://seaborn.pydata.org/_images/introduction_35_0.png](img/3be223a42bf5ef33ccf970a4e8a79fe3.jpg)

Figure-level å‡½æ•°ä½œç”¨äºéœ€è¦é«˜æ•ˆæ˜¾ç¤ºæ•°æ®çš„æƒ…å†µï¼Œæ‰€ä»¥å¦‚æœè¦æ›´ç²¾ç¡®çš„è°ƒæ•´å¤§å°ä¸ç»„ç»‡å½¢å¼ï¼Œç›´æ¥ä½¿ç”¨ matploblib æˆ–è€…ä½¿ç”¨å¯¹åº”çš„ seaborn axes-level å‡½æ•°ã€‚matploblib å…·æœ‰æ˜“äºç†è§£å’Œå¼ºå¤§çš„æ¥å£ï¼Œä»»ä½•æœ‰å…³å›¾åƒå±æ€§çš„å€¼éƒ½å¯ä»¥é€šè¿‡æ¥å£æ¥å®Œæˆè®¾ç½®ã€‚æœ€å¥½æ˜¯å°†é«˜åº¦æŠ½è±¡çš„ seaborn æ¥å£å’Œå¯æ·±åº¦è‡ªå®šä¹‰çš„ matplotlib æ¥å£ä¸€èµ·ä½¿ç”¨æ¥åˆ¶ä½œè¾¾åˆ°[å‡ºç‰ˆè´¨é‡](https://github.com/wagnerlabpapers/Waskom_PNAS_2017)çš„æœ€ç»ˆæˆæœã€‚

## ç»„ç»‡æ•°æ®é›†

ä¹‹å‰æåˆ°è¿‡ï¼Œå¦‚æœä½ çš„æ•°æ®æ•´åˆçš„æ¯”è¾ƒå¥½ï¼Œseaborn çš„è¡¨ç°ä¹Ÿä¼šå¾ˆå‡ºä¼—ã€‚è¿™ç§èƒ½ç§°ä¸ºåšâ€œé•¿å‹â€æˆ–è€…â€œæ•´æ´â€æ•°æ®åœ¨[è¿™é‡Œ](http://vita.had.co.nz/papers/tidy-data.html)è¢«è¯¦ç»†è§£é‡Šã€‚è¿™äº›æ–¹å¼å¯ä»¥å¤§è‡´æ¦‚æ‹¬ä¸ºï¼š

1. æ¯ä¸ªå˜é‡å æœ‰ä¸€ä¸ªåˆ—
2. æ¯ä¸ªè§‚æµ‹å æœ‰ä¸€ä¸ªè¡Œ

ä½ çš„æ•°æ®æ˜¯å¦æ•´æ´äº†ï¼Ÿä¸€ç§æ¯”è¾ƒå¥½çš„æ€è€ƒæ–¹å¼æ˜¯å»æƒ³ä½ è¦æ€ä¹ˆç”»ä½ çš„å›¾ï¼Œä»è¿™ä¸€ç‚¹æ¥è®²ï¼Œå˜é‡å°±æ˜¯å›¾ä¸­ä¸€ç§å…·æœ‰è§„å¾‹å±•ç°å½¢å¼çš„å…ƒç´ ã€‚å¦‚æœçœ‹çœ‹æ ·ä¾‹ `tips` ä¼šæ¯”è¾ƒå¥½ï¼š

```py
tips.head()

```

|  | total_bill | tip | sex | smoker | day | time | size |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 0 | 16.99 | 1.01 | Female | No | Sun | Dinner | 2 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 1 | 10.34 | 1.66 | Male | No | Sun | Dinner | 3 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 2 | 21.01 | 3.50 | Male | No | Sun | Dinner | 3 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 3 | 23.68 | 3.31 | Male | No | Sun | Dinner | 2 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 4 | 24.59 | 3.61 | Female | No | Sun | Dinner | 4 |
| --- | --- | --- | --- | --- | --- | --- | --- |

ä»æŸç§æ„ä¹‰ä¸Šè®²ï¼Œä½¿ç”¨è¿™ç§ç»„ç»‡æ–¹å¼å¼€å§‹å¯èƒ½ä¼šæ„Ÿè§‰å°´å°¬ï¼Œæ¯”å¦‚ä½¿ç”¨æ—¶é—´åºåˆ—æ•°æ®ï¼Œå°†æ—¶é—´ç‚¹ä½œä¸ºè§‚æµ‹å€¼æ”¾åœ¨åˆ—ä¸­ã€‚æˆ‘ä»¬[ä¹‹å‰](#intro-stat-estimation)ä½¿ç”¨çš„ `fmri` æ•°æ®é›†å±•ç¤ºäº†ä¸€ä¸ªæ•´æ´çš„æ—¶é—´ç‚¹åœ¨ä¸åŒè¡Œé—´çš„ç»„ç»‡å½¢å¼ï¼š

```py
fmri.head()

```

|  | subject | timepoint | event | region | signal |
| --- | --- | --- | --- | --- | --- |
| 0 | s13 | 18 | stim | parietal | -0.017552 |
| --- | --- | --- | --- | --- | --- |
| 1 | s5 | 14 | stim | parietal | -0.080883 |
| --- | --- | --- | --- | --- | --- |
| 2 | s12 | 18 | stim | parietal | -0.081033 |
| --- | --- | --- | --- | --- | --- |
| 3 | s11 | 18 | stim | parietal | -0.046134 |
| --- | --- | --- | --- | --- | --- |
| 4 | s10 | 18 | stim | parietal | -0.037970 |
| --- | --- | --- | --- | --- | --- |

è®¸å¤š seaborn å‡½æ•°éƒ½æä¾›äº†ç”»å‡ºå¤§èŒƒå›´æ•°æ®å›¾çš„åŠŸèƒ½ï¼Œè™½ç„¶åœ¨å‡½æ•°æ€§ä¸Šæœ‰æ‰€é™åˆ¶ã€‚è¦åˆ©ç”¨å¥½æ•´åˆè¾ƒå¥½çš„æ•°æ®é›†ï¼Œä½ è‚¯å®šä¼šä½¿ç”¨ `pandas.melt` å‡½æ•°æ¥è§£æ„ä¸€ä¸ªå¤§çš„æ•°æ®é›†ã€‚å‚è€ƒ[è¿™ç¯‡](https://tomaugspurger.github.io/modern-5-tidy.html) pandas å¼€å‘è€…å†™çš„åšå®¢ã€‚

## ä¸‹ä¸€æ­¥

ç»§ç»­å¾€ä¸‹çœ‹ï¼Œä½ æœ‰å¤šä¸ªé€‰æ‹©ã€‚æ¯”å¦‚ä½ å¯èƒ½æƒ³å»[å®‰è£… seaborn](installing.html#installing)ã€‚ç„¶åä½ å¯ä»¥çœ‹çœ‹[åˆ¶å›¾æ ·ä¾‹](http://seaborn.pydata.org/examples/index.html#example-gallery)æ¥äº†è§£ seaborn åˆ°åº•å¯ä»¥ç»˜åˆ¶ä»€ä¹ˆæ ·çš„å›¾ã€‚æˆ–è€…ä½ å¯ä»¥é˜…è¯»[å®˜æ–¹æ•™ç¨‹](tutorial.html#tutorial)æ¥æ·±å…¥äº†è§£ä½ æ‰€éœ€è¦çš„å·¥å…·ã€‚ä½ ä¹Ÿå¯ä»¥æŸ¥çœ‹é™„å¸¦æ ·ä¾‹çš„[æ¥å£å‚è€ƒ](api.html#api-ref)æ¥å®ç°ä½ ä¸åŒçš„æƒ³æ³•ã€‚
